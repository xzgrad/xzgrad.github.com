<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>xz grad</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="background"></div>
  <header>
    <h1 id="logo">xz grad</h1>
    <p class="subtitle">x xxxx xxx xx'x xxxxxxx. Zz xx zxzx xzxzxzx.</p>
  </header>

  <main>
    <section id="posts">
      <article class="post">
        <h2>besieged</h2>
        <p>during a self administered psychosis, a homeless schizo tranny told me to make a blog if i was serious about not killing myself, so here it goes</p>
        <div class="post-footer">
          <span class="post-date"></span>
          <button class="like-button">&#x2764; <span class="like-count">0</span></button>
        </div>
      </article>
    </section>
  </main>

<script>
const logo = document.getElementById('logo');
const originalText = logo.textContent;
let glitchInterval;

function glitchText() {
  const chars = '!@#$%^&*()_+{}:"<>?-=[];\\\',./~';
  let progress = 0;
  let direction = 1;
  
  glitchInterval = setInterval(() => {
    if (direction === 1 && progress < 1) {
      logo.textContent = originalText.split('').map(c => (Math.random() < progress ? chars[Math.floor(Math.random()*chars.length)] : c)).join('');
      progress += 0.005; 
    } else if (direction === 1 && progress >= 1) {
      logo.textContent = originalText.split('').map(() => chars[Math.floor(Math.random()*chars.length)]).join('');
      setTimeout(() => { direction = -1; }, 6000);
    } else if (direction === -1 && progress > 0) {
      logo.textContent = originalText.split('').map(c => (Math.random() < progress ? chars[Math.floor(Math.random()*chars.length)] : c)).join('');
      progress -= 0.005;
    } else {
      logo.textContent = originalText;
      setTimeout(() => { direction = 1; }, 6000);
    }
  }, 100);
}

glitchText();

// Post Date Handling
const posts = document.querySelectorAll('.post-date');
const today = new Date().toLocaleDateString();
posts.forEach(post => post.textContent = today);

// Like Button Handling
const likeButtons = document.querySelectorAll('.like-button');

likeButtons.forEach(button => {
  const countSpan = button.querySelector('.like-count');
  const postKey = 'like-' + button.parentElement.parentElement.querySelector('h2').innerText;
  let count = localStorage.getItem(postKey) || 0;
  countSpan.textContent = count;

  button.addEventListener('click', () => {
    count++;
    countSpan.textContent = count;
    localStorage.setItem(postKey, count);
  });
});
</script>
</body>
</html>